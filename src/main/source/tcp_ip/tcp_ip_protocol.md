# TCP/IP 协议部分







### HTTPS

* HTTPS的本质是http+ssl  
    -   ssl在传输层对网络连接进行加密
    
    - 具体的流程如下:
    
        -   浏览器: `将自己的一套加密规则发给服务器`
        -   服务器: `服务器从加密规则中挑选出一组加密算法和HASH算法`,然后将生成的`公钥`以及一些信息包装成`证书发送给浏览器`
        -   浏览器: 浏览器接收到证书,`验证证书的合法性`,如果验证合法(或者提示不合法但是依旧相信这个证书),则`浏览器生成一串随机的字符串密码`,然后用`公钥加密字符串生成密钥`,`然后HASH算法算出相关信息,随机数密码加密信息,最终会携带密钥+加密后的数据+hash结果一起发送给服务器`
        -   服务器: 收到了密钥+加密后的数据,`先用私钥解密密钥得到密码`->`密码解密数据`->`hash计算数据与送过来的hash结果进行匹对`匹对成功->`使用密码加密一段握手信息,当然也会携带hash后的结果,发回给浏览器`
        -   浏览器: 收到加密的握手信息->密码解密,然后hash计算->如果与服务器发送过来的hash结果一致,则表明是正确的服务器->`之后所有的数据都会用这个密码加密解密`